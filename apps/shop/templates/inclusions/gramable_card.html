{% load fontawesome_5 %}


<div class="card my-4">
  <div class="card-body">
{#    <h5 class="card-title">#}
{#    </h5>#}

    <div class="card-text">
      <a href="#" class=""
         data-toggle="modal" data-target="#image_{{ image.id }}__modal">
        <div class="image">
          <img src="{{ image.thumbnail_url|default:image.url }}" class="img img-responsive full-width" />
        </div>
      </a>
    </div>

  </div>
{#  <div class="card-footer">#}
{#  </div>#}
</div>

<!-- Modal -->
<div class="modal fade" id="image_{{ image.id }}__modal" tabindex="-1">
  <div class="modal-dialog modal-sm">
    <div class="modal-content">
{#      <div class="modal-header">#}
{#        <button type="button" class="close" data-dismiss="modal" aria-label="Close">#}
{#          <span aria-hidden="true">&times;</span>#}
{#        </button>#}
{#      </div>#}
      <div class="modal-body">
        <div class=" image">
          <img src="{{ image.url }}" class="img img-responsive full-width" />
        </div>

        <form action="{% url 'shop:gramable' image_id=image.id %}" method="post" class="mt-4">
          {% csrf_token %}

          <div class="input-group mb-3">
            <div class="input-group-prepend">
              <label class="input-group-text" for="image_{{ image.id }}_item_id">Menu Item</label>
            </div>
            <select name="item_id" class="custom-select" id="image_{{ image.id }}_item_id">
              <option selected>Choose...</option>
              {% for item in shop.menu.items.all %}
                <option value="{{ item.id }}">{{ item.menu_section.name }} | {{ item.name }}</option>
              {% endfor %}
            </select>
            <div class="input-group-append">
              <button type="submit" class="btn btn-success input-group-btn">SAVE</button>
            </div>
          </div>

        </form>

      </div>
{#      <div class="modal-footer">#}
{#        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>#}
{#        <button type="button" class="btn btn-primary">Save changes</button>#}
{#      </div>#}
    </div>
  </div>
</div>
