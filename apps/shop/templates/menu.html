{% extends "base.html" %}
{% load static %}
{% load fontawesome_5 %}

{% block tab_title %}
  {{ shop.name }}
{% endblock tab_title %}

{% block css %}
{% endblock css %}


{% block javascript %}
  <script>
    const SHOP_ID = "{{ shop.id }}";
    const LINE_CHANNEL_MEMBERSHIP_ID = "{{ line_channel_membership.id }}";
    const DEBUG = {% if debug %}true{% else %}false{% endif %};
    const CSRF_TOKEN = '{{ csrf_token }}';
    var SHOPPING_CART = {{ shopping_cart_json }};
  </script>
  <script src="{{ STATIC_URL }}shop/menu.js?v=0"></script>
{% endblock javascript %}

{% block content %}{% load humanize %}

  <h1>{{ shop.name }} Menu</h1>

  {% for menu_section in shop.menu.menu_sections.all %}
    <h3 class="my-4">
      {{ menu_section.name }}
    </h3>

    {% for item in menu_section.items.all %}
      <div class="my-4">
        <ul class="list-inline mb-1">
          <li class="list-inline-item">
            <button id="item_{{ item.id }}_btn" class="btn btn-icon-only add-menu-item" type="button"
                    aria-label="add button" title="add to order"
                    data-item_id="{{ item.id }}" data-item_quantity="0">
              {% fa5_icon 'plus-square' %}
            </button>
          </li>
          <li class="list-inline-item">
            {{ item.name }}
          </li>
        </ul>
        <ul class="list-inline">
          <li class="list-inline-item">
            {{ item.description }}
          </li>
          <li class="list-inline-item text-italic text-gray-600">
            {{ item.price.amount|floatformat:"-2" }}
          </li>
        </ul>
      </div>
    {% endfor %}

{#              <div class="input-group mb-3" style="width: 8rem;">#}
{#                <div class="input-group-prepend">#}
{#                  <span class="input-group-text">#}
{#                    {% fa5_icon 'minus-square' %}#}
{#                  </span>#}
{#                </div>#}
{#                <input type="text" class="form-control" aria-label="quantity" value="0" style="text-align: center">#}
{#                <div class="input-group-append">#}
{#                  <span class="input-group-text">#}
{#                    {% fa5_icon 'plus-square' %}#}
{#                  </span>#}
{#                </div>#}
{#              </div>#}

  {% endfor %}

{% endblock %}
